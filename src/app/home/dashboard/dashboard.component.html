<div
  *ngIf="user"
  class="bg-zinc-800 p-5 rounded-xl shadow-md text-white mt-20 px-4"
>
  <span class="flex space-x-3">
    <img
      class="inline-block h-10 w-10 my-auto rounded-full"
      src="https://images.unsplash.com/photo-1491528323818-fdd1faba62cc?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
      alt=""
    />
    <input
      type="text"
      class="w-full rounded-2xl p-2 my-auto bg-zinc-700 hover:bg-zinc-600 cursor-pointer outline-none border-none text-none"
      [placeholder]="'What\'\s on your mind, ' + user?.firstName"
      (click)="openModal($event, 'text')"
    />
  </span>
  <hr class="mt-3 border-zinc-700" />
  <button
    class="p-2 mt-3 w-full md:w-4/12 text-green-500 hover:bg-zinc-500 hover:bg-opacity-50 rounded-lg font-semibold"
  >
    <fa-icon size="lg" [icon]="faImages"></fa-icon>
    <span
      (click)="openModal($event, 'photo')"
      class="ml-2 text-gray-400 font-bold"
      >Photo/Video</span
    >
  </button>
  <button
    class="p-2 mt-3 w-full md:w-4/12 text-red-500 hover:bg-zinc-500 hover:bg-opacity-50 rounded-lg font-semibold"
  >
    <fa-icon size="lg" [icon]="faVideo"></fa-icon>
    <span class="ml-2 text-gray-400 font-bold">Live Video</span>
  </button>
  <button
    class="p-2 mt-3 w-full md:w-4/12 text-yellow-500 hover:bg-zinc-500 hover:bg-opacity-50 rounded-lg font-semibold"
  >
    <fa-icon size="lg" [icon]="faSmile"></fa-icon>
    <span class="ml-2 text-gray-400 font-bold">Feeling/Activity</span>
  </button>
</div>

<div
  *ngFor="let post of posts"
  class="bg-zinc-800 p-5 mt-5 rounded-xl shadow-md text-white"
>
  <div class="flex justify-between">
    <span class="flex space-x-3">
      <img
        class="inline-block h-10 w-10 my[pr-auto rounded-full"
        src="https://images.unsplash.com/photo-1491528323818-fdd1faba62cc?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
        alt=""
      />
      <span class="my-auto">
        <p class="font-bold text-white">
          {{ post?.author.firstName }} {{ post?.author.lastName }}
        </p>
        <p class="text-gray-400 text-sm">
          {{ post?.createdAt | date: "fullDate" }}
        </p>
      </span>
    </span>
    <button id="dropdownDividerButton" data-dropdown-toggle="dropdownDivider">
      <fa-icon
        class="my-auto text-gray-400"
        size="sm"
        [icon]="faEllipsisH"
      ></fa-icon>
    </button>
  </div>
  <div>
    <p class="mt-3">
      {{ post?.description }}
    </p>

    <span class="mt-3 flex space-x-2">
      <fa-icon class="text-blue-500" [icon]="faThumbsUp"></fa-icon>
      <p>{{ post?.likes.length }}</p>
    </span>
    <hr class="mt-3 border-zinc-700" />
    <div class="flex justify-around">
      <button
        class="px-3 py-2 mt-2 w-4/12 text-gray-300 hover:bg-zinc-500 hover:bg-opacity-25 rounded-lg font-semibold"
        (click)="likePost(post.id)"
      >
        <fa-icon [icon]="faThumbsUp"></fa-icon>
        <span class="ml-2">Like</span>
      </button>
      <button
        class="px-3 py-1 mt-2 w-4/12 text-gray-300 hover:bg-zinc-500 hover:bg-opacity-25 rounded-lg font-semibold"
      >
        <fa-icon [icon]="faComment"></fa-icon>
        <span class="ml-2">Comment</span>
      </button>
      <button
        class="px-3 py-1 mt-2 w-4/12 text-gray-300 hover:bg-zinc-500 hover:bg-opacity-25 rounded-lg font-semibold"
      >
        <fa-icon [icon]="faShare"></fa-icon>
        <span class="ml-2">Share</span>
      </button>
    </div>
    <hr class="mt-3 border-zinc-700" />
    <div class="mt-3 flex space-x-3">
      <img
        class="inline-block h-8 w-8 my-auto rounded-full"
        src="https://images.unsplash.com/photo-1491528323818-fdd1faba62cc?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
        alt=""
      />
      <input
        type="text"
        class="w-full bg-zinc-700 px-2 py-2 rounded-2xl"
        placeholder="Write a comment..."
      />
    </div>
  </div>
</div>

<app-modal modalID="newPost" title="Create Post">
  <app-new-post [type]="type"></app-new-post>
</app-modal>
